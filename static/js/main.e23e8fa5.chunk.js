(this["webpackJsonpjs-calc"]=this["webpackJsonpjs-calc"]||[]).push([[0],{46:function(e,t){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var i=n(9),c=n(30),s=n.n(c),r=n(10),a=function(){var e=function(){var e=window;return{w:e.innerWidth,h:e.innerHeight}},t=function(){a(e())},n=Object(i.useState)(e()),c=Object(r.a)(n,2),s=c[0],a=c[1];return Object(i.useEffect)((function(){return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}})),s},o=n(15),l=n(14),d=n(8),u=function(e){var t=function(){var t=function(e){if(e.includes("e")){var t=e.split("e");return t[0]=t[0].slice(0,15-t[1].length-3)+"(...)",t.join("e")}if(e.includes(".")){var n=e.split(".");return n[1]=n[1].slice(0,15-n[0].length-3)+"(...)",n.join(".")}return e},n=e.hist[0].length>15?t(e.hist[0]):e.hist[0];n+=" ".concat(e.hist[1]," "),n+=e.hist[2].length>15?t(e.hist[2]):e.hist[2];var i="= ";return i+=e.hist[3].length>15?t(e.hist[3]):e.hist[3],Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"hisOp",children:n}),Object(d.jsx)("p",{className:"hisRes",children:i})]})}();return Object(d.jsx)("div",{onClick:function(){e.handleHist(e.ind),e.handleExp(!0)},className:"histItem",children:t})},h=function(e){var t=Object(d.jsx)("i",{className:"fas fa-arrow-up"}),n=Object(d.jsx)("i",{className:"fas fa-arrow-down"}),i={transition:"height 200ms ease-in",height:e.power?"40px":"540px",boxShadow:e.power?"none":"0px 0px 10px #CCC"},c={height:"".concat(Math.min(540,e.h),"px")},s=function(t){e.handlePow(t)},r=[Object(d.jsx)("div",{id:"histHeader",children:"Past Calculations"},"-1")].concat(Object(l.a)(e.hist.map((function(t,n){return function(t,n){return Object(d.jsx)(u,{ind:n,hist:t,handleHist:e.handleHist,handleExp:s},t[4])}(t,n)}))));return Object(d.jsxs)("div",{id:"histList",style:e.w>900?Object(o.a)({},c):Object(o.a)({},i),children:[r,Object(d.jsx)("div",{id:"roller",onClick:e.w<=900?e.handlePow:void 0,style:{cursor:e.w>900?"default":"pointer"},children:e.w<=900?e.power?n:t:""})]})},f=function(e){var t="",n="";return""===e.res?(t=e.op1+" "+e.oper,n=e.op2):(t=e.op1+" "+e.oper+" "+e.op2+"=",n=e.res),Object(d.jsxs)("div",{id:"scr",children:[Object(d.jsx)("div",{id:"operation",children:Object(d.jsx)("p",{children:t})}),Object(d.jsx)("div",{id:"display",style:{fontSize:n.length>=15?"1rem":"2rem"},children:Object(d.jsx)("p",{children:n})})]})},j=n(22),b=n.n(j),p=n(26),O=function(e){var t,n=Object(i.useState)(!1),c=Object(r.a)(n,2),s=c[0],a=c[1];t="pow"===e.desc?Object(d.jsxs)("p",{children:["x",Object(d.jsx)("sup",{children:"2"})]}):"sqrt"===e.desc?Object(d.jsx)("p",{children:"\u221a"}):"sign"===e.desc?Object(d.jsx)("p",{children:"+/-"}):"bksp"===e.desc?Object(d.jsx)("i",{className:"fas fa-backspace"}):"e"===e.desc?Object(d.jsx)("p",{children:"EE"}):Object(d.jsx)("p",{children:e.desc}),Object(i.useEffect)((function(){if(""!==e.keyCode)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}));var o=function(t){t.keyCode===parseInt(e.keyCode)&&(l(),53===t.keyCode?t.shiftKey&&e.handleEvent(e.desc):(t.preventDefault(),e.handleEvent(e.desc)))},l=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"".concat(e.className," ").concat(s?"clicked":""),id:e.id,onClick:function(){l(),e.handleEvent(e.desc)},children:t})},g=function(e){var t=Object(i.useState)("https://raw.githubusercontent.com/MatchaCrisp/JSCalculator/main/public/button.json"),n=Object(r.a)(t,1)[0],c=Object(i.useState)([]),s=Object(r.a)(c,2),a=s[0],o=s[1];Object(i.useEffect)((function(){n&&function(){var e=Object(p.a)(b.a.mark((function e(){var t,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,o(i.buttList);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch(console.log)}),[n]);var l=a.map((function(t){return function(t){return Object(d.jsx)(O,{className:t.class,id:t.id,keyCode:t.keyCode,desc:t.desc,handleEvent:e.handleEvent},t.id)}(t)}));return Object(d.jsx)("div",{id:"calcPad",children:l})},v=function(e){var t={position:"absolute",top:"".concat(Math.max((e.h-540)/2+40,40),"px")};return Object(d.jsxs)("div",{id:"calc",style:e.w>900?Object(o.a)({},{position:"relative",marginLeft:"100px"}):Object(o.a)({},t),children:[Object(d.jsx)(f,{op1:e.op1,oper:e.oper,op2:e.op2,res:e.res,hist:e.hist}),Object(d.jsx)(g,{handleEvent:e.handleEvent})]})},x=n(52),w=n(51),m={precision:22},y=Object(x.a)(w.a,m),S=function(e){var t=Object(i.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(""),l=Object(r.a)(a,2),u=l[0],f=l[1],j=Object(i.useState)("0"),b=Object(r.a)(j,2),p=b[0],O=b[1],g=Object(i.useState)(!1),x=Object(r.a)(g,2),w=x[0],m=x[1],S=Object(i.useState)(""),k=Object(r.a)(S,2),E=k[0],C=k[1],N=Object(i.useState)(!1),P=Object(r.a)(N,2),L=P[0],M=P[1],H=Object(i.useState)([]),q=Object(r.a)(H,2),z=q[0],D=q[1],I={width:"900px",height:"500px",display:"flex",top:"".concat(Math.max((e.h-500)/2,0),"px"),left:"".concat(Math.max((e.w-900)/2,0),"px")},J=function(e,t,n,i){var c=function(){var e=new Date;return e.getMilliseconds().toString(16)+e.getDate().toString(16)+e.getMinutes().toString(16)}();z.length>=13?D(z.concat([[e,t,n,i,c]]).slice(1)):D(z.concat([[e,t,n,i,c]]))},B=function(e,t,n){if("infinity"===e||"infinity"===t)return"infinity";var i=y.bignumber(e),c=y.bignumber(t),s="";return"+"===n?s=y.add(i,c).toString():"-"===n?s=y.subtract(i,c).toString():"*"===n?s=y.multiply(i,c).toString():"/"===n?s="0"===t?"undefined":y.divide(i,c).toString():"%"===n&&(s=y.mod(i,c).toString()),s.length>28?"infinity":s},K=function(e){""!==E||"undefined"===p||"infinity"===p?(s(""),f(""),C(""),M(!1),"."===e?(O("0."),m(!0)):(O(e),m(!1))):p.length-(w?1:0)-(L?2:0)<22&&("0"===e?(0===p.length||w||"0"!==p[0])&&O(p.concat(e)):"."===e?0===p.length?(m(!0),O(p.concat("0."))):w||L||(m(!0),O(p.concat("."))):/[1-9]/.test(e)&&(p.length>0&&!w&&"0"===p[0]?O(e):O(p.concat(e))))},R=function(e){if("undefined"===E||"infinity"===E||"undefined"===p||"infinity"===p)s(""),f(""),O("0"),C(""),m(!1),M(!1);else if(""!==E){s(E),f(e),O(""),C(""),m(!1),M(!1)}else if(""===u){if(p.length>0&&"-"!==p[p.length-1])if(!L||"+"!==p[p.length-1])s(p),f(e),O(""),C(""),m(!1),M(!1)}else if(0===p.length||"-"===p[p.length-1])"-"===e?W():(f(e),O(""));else if((!L||"+"!==p[p.length-1])&&"-"!==p[p.length-1]){var t=u,n=c,i=p,r=B(n,i,t);s(r),f(e),O(""),C(""),m(!1),M(!1),J(n,t,i,r)}},T=function(){if(""===E&&c.length>0&&""!==u&&p.length>0&&(!L||"+"!==p[p.length-1])&&"-"!==p[p.length-1]){var e=B(c,p,u);C(e),J(c,u,p,e)}},W=function(){""!==E||"undefined"===p||"infinity"===p?(s(""),f(""),O("-"),C(""),m(!1),M(!1)):p.length>0?"-"!==p[0]?O("-".concat(p)):O(p.slice(1)):O("-")},A=function(){if(""===E&&p.length>0&&"undefined"!==p&&"infinity"!==p)if(L){var e=p.slice(0,p.indexOf("e"));O(e),M(!1)}else("0"!==p[0]||w&&p.length>2||!L)&&(O(p.concat("e+")),M(!0))},F=function(e){if(""!==E&&"undefined"!==E&&"infinity"!==E){var t=y.bignumber(E);t="sqrt"===e?y.sqrt(t).toString():y.pow(t,2).toString(),s(""),f(""),O(t),C(""),m(t.includes(".")),M(t.includes("e"))}else if(p.length>0&&"undefined"!==p&&"infinity"!==p){var n=y.bignumber(p);if("sqrt"===e){var i=y.sqrt(n).toString();O(i.length>28?"infinity":i),M(i.includes("e"))}else{var c=y.pow(n,2).toString();O(c.length>28?"infinity":c),M(c.includes("e"))}}},G=function(e){if("ac"===e)s(""),f(""),O("0"),C(""),m(!1),M(!1);else if(c.length>0&&p.length>0){var t=u;s(c),f(t),O(""),C(""),m(!1),M(!1)}else if(c.length>0&&u){var n=c;s(""),f(""),O(n),C(""),M(/e\+/i.test(n)),m(/\./.test(n))}else O("")},Q=function(){if(""===E)if(p.length>0)"+"===p[p.length-1]?(O(p.slice(0,p.length-2)),M(!1)):"."===p[p.length-1]?(O(p.slice(0,p.length-1)),m(!1)):O(p.slice(0,p.length-1));else if(c.length>0&&u){var e=c;s(""),f(""),O(e),C(""),M(/e\+/i.test(e)),m(/\./.test(e))}};return Object(d.jsxs)("div",{id:"core",style:e.w>900?Object(o.a)({},I):Object(o.a)({},{width:"400px",height:"100%",margin:"0 auto"}),children:[Object(d.jsx)(h,{hist:z,h:e.h,w:e.w,handleHist:function(e){var t=z[e];s(t[0]),f(t[1]),O(t[2]),C(t[3])},handlePow:e.handlePow,power:e.power}),Object(d.jsx)(v,{h:e.h,w:e.w,op1:c,oper:u,op2:p,res:E,hist:z,handleEvent:function(t){e.power&&(1===t.length?"="===t?T():"e"===t?A():/[\d.]/.test(t)?K(t):R(t):2===t.length?G(t):"bksp"===t?Q():"sign"===t?W():F(t))}})]})},k=function(){var e=a(),t=e.h,n=e.w,c=Object(i.useState)(!0),s=Object(r.a)(c,2),o=s[0],l=s[1],u=function(e){l("boolean"===typeof e?e:!o)};return Object(i.useEffect)((function(){n<=900||l(!0)}),[n]),Object(d.jsxs)("div",{id:"app",children:[Object(d.jsx)(S,{handlePow:u,power:o,h:t,w:n}),Object(d.jsx)("div",{id:"drop",style:{display:o?"none":"block"},onClick:function(){return u(!0)}})]})};n(47);s.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.e23e8fa5.chunk.js.map